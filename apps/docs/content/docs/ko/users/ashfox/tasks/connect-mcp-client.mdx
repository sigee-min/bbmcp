---
title: 외부 MCP 클라이언트 연결
description: Ashfox 서비스 엔드포인트에 외부 MCP 클라이언트를 안정적으로 연결합니다.
summary: "Ashfox 서비스 엔드포인트에 외부 MCP 클라이언트를 안정적으로 연결합니다."
---

# 외부 MCP 클라이언트 연결

## 목적
Blockbench 외부 클라이언트에서도 MCP 연결을 안정적으로 확보합니다.

## 사전 준비
- 저장소 의존성이 설치되어 있어야 합니다 (`npm install`).
- 필요한 서비스(gateway/worker 또는 대상 환경)가 실행 중이어야 합니다.
- MCP 엔드포인트에 접근 가능한 네트워크/권한 상태여야 합니다.

## 빠른 시작
1. 워크스페이스 설정의 API 키 패널에서 개인 API 키를 발급합니다.
2. MCP 엔드포인트(`/mcp`)와 `Authorization: Bearer <API_KEY>` 헤더로 클라이언트를 연결합니다.
3. 핸드셰이크와 capability 조회(`system.list_capabilities`)를 실행합니다.
4. 읽기 전용 프로젝트 호출로 권한/워크스페이스 자동 적용을 검증합니다.

## 상세 단계
1. 워크스페이스 설정에서 API 키를 발급하고 원문 키를 안전하게 보관합니다.
2. 클라이언트 연결 정보는 아래 두 값만 사용합니다.
   - 엔드포인트: `https://<gateway-host>/mcp`
   - 인증 헤더: `Authorization: Bearer <API_KEY>`
3. `initialize`/`tools/list`/`system.list_capabilities` 순서로 연결을 검증합니다.
4. 읽기 전용 도구 호출로 현재 워크스페이스 범위가 자동 적용되는지 확인합니다.
5. 클라이언트 로그에서 오류 매핑과 재시도 동작을 점검합니다.

## 실패와 복구
- 연결 실패: 엔드포인트 경로, 서비스 실행 상태, 방화벽/권한 설정을 재확인합니다.
- 인증 실패(401): API 키 만료/폐기 여부를 확인하고 새 API 키로 교체합니다.
- 스키마 오류: 최소 요청으로 재시도하고 클라이언트 스키마 캐시를 갱신합니다.
- 검증 실패: 리포트된 항목을 수정한 뒤 Quick Start부터 다시 실행합니다.

## 관련 문서
- [Ashfox 설치](/ko/docs/users/ashfox/installation)
- [스키마 및 클라이언트 캐시](/ko/docs/users/troubleshooting/schema-and-client-cache)
- [Revision 및 동시성](/ko/docs/users/troubleshooting/revision-and-concurrency)
